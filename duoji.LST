C51 COMPILER V9.01   DUOJI                                                                 09/14/2018 22:41:17 PAGE 1   


C51 COMPILER V9.01, COMPILATION OF MODULE DUOJI
OBJECT MODULE PLACED IN duoji.OBJ
COMPILER INVOKED BY: C:\Keil\C51\BIN\C51.EXE duoji.c BROWSE

line level    source

   1          #define CPU_HZ 11059200;
   2          #define g_duoji_c P1_0;
   3          char g_arch = 0; //0-180;
   4          char g_runing_arch = -1;
   5          int g_us_ticks=0;
   6          void set_arch(char arch_)
   7          {
   8   1          if(arch_>180 || arch_<0)return;
   9   1          g_arch = arch_;
  10   1      }
  11          void init_duoji()
  12          {
  13   1          us_ticks = CPU_HZ/12;
*** ERROR C202 IN LINE 13 OF DUOJI.C: 'us_ticks': undefined identifier
*** ERROR C141 IN LINE 13 OF DUOJI.C: syntax error near '/'
  14   1          g_duoji_c = 0;
*** ERROR C202 IN LINE 14 OF DUOJI.C: 'P1_0': undefined identifier
*** ERROR C141 IN LINE 14 OF DUOJI.C: syntax error near '='
  15   1          TMOD=0x01; //设置定时器0工作方式1后面运行TR位启动
*** ERROR C202 IN LINE 15 OF DUOJI.C: 'TMOD': undefined identifier
  16   1          TH0=(65536-1)/256; 
*** ERROR C202 IN LINE 16 OF DUOJI.C: 'TH0': undefined identifier
  17   1          TL0=(65536-1)%256; 
*** ERROR C202 IN LINE 17 OF DUOJI.C: 'TL0': undefined identifier
  18   1          EA=1; //开总中断 
*** ERROR C202 IN LINE 18 OF DUOJI.C: 'EA': undefined identifier
  19   1          ET0=1; //开定时器0中断 
*** ERROR C202 IN LINE 19 OF DUOJI.C: 'ET0': undefined identifier
  20   1          TR0=1; //启动定时器0 
*** ERROR C202 IN LINE 20 OF DUOJI.C: 'TR0': undefined identifier
  21   1      }
  22          int g_pwm_hi_ticks = 0;
  23          void PWM1() interrupt 1 //定时器0 中断，产生方波 
  24          { 
  25   1          int c_20ms_ticks= g_us_ticks*20000;
  26   1          if(0 == g_duoji_c && g_runing_arch != g_arch)
*** ERROR C202 IN LINE 26 OF DUOJI.C: 'P1_0': undefined identifier
*** ERROR C141 IN LINE 26 OF DUOJI.C: syntax error near ';'
*** ERROR C141 IN LINE 26 OF DUOJI.C: syntax error near '&&'
*** ERROR C141 IN LINE 26 OF DUOJI.C: syntax error near ')'
  27   1          {
  28   2              g_pwm_hi_ticks = 500 + g_arch*1000/90；
*** ERROR C100 IN LINE 28 OF DUOJI.C: unprintable character 0xA3 skipped
*** ERROR C100 IN LINE 28 OF DUOJI.C: unprintable character 0xBB skipped
  29   2              g_pwm_hi_ticks = 65535 - g_pwm_hi_ticks;
*** ERROR C141 IN LINE 29 OF DUOJI.C: syntax error near 'g_pwm_hi_ticks'
  30   2        g_runing_arch = g_arch;
  31   2          }
  32   1       
  33   1          if(g_duoji_c == 0) //如果上个电平为0，则下个高电平的时间为  
*** ERROR C202 IN LINE 33 OF DUOJI.C: 'P1_0': undefined identifier
*** ERROR C141 IN LINE 33 OF DUOJI.C: syntax error near ';'
*** ERROR C141 IN LINE 33 OF DUOJI.C: syntax error near '=='
*** ERROR C141 IN LINE 33 OF DUOJI.C: syntax error near ')'
  34   1          { 
C51 COMPILER V9.01   DUOJI                                                                 09/14/2018 22:41:17 PAGE 2   

  35   2              TH0=(g_pwm_hi_ticks)/256; 
*** ERROR C202 IN LINE 35 OF DUOJI.C: 'TH0': undefined identifier
  36   2              TL0=(g_pwm_hi_ticks)%256; 
*** ERROR C202 IN LINE 36 OF DUOJI.C: 'TL0': undefined identifier
  37   2          } 
  38   1          else //如果上个电平为0，则下个高电平为  
*** ERROR C141 IN LINE 38 OF DUOJI.C: syntax error near 'else'
  39   1          { 
  40   2              TH0=(65535-(c_20ms_ticks-65535+g_pwm_hi_ticks))/256; 
*** ERROR C202 IN LINE 40 OF DUOJI.C: 'TH0': undefined identifier
  41   2              TL0=(65535-(c_20ms_ticks-65535+g_pwm_hi_ticks))%256; 
*** ERROR C202 IN LINE 41 OF DUOJI.C: 'TL0': undefined identifier
  42   2          } 
  43   1          g_duoji_c=~g_duoji_c; 
*** ERROR C202 IN LINE 43 OF DUOJI.C: 'P1_0': undefined identifier
*** ERROR C141 IN LINE 43 OF DUOJI.C: syntax error near '='
*** ERROR C202 IN LINE 43 OF DUOJI.C: 'P1_0': undefined identifier
  44   1      } 

C51 COMPILATION COMPLETE.  0 WARNING(S),  29 ERROR(S)
